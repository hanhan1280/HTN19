document.addEventListener('DOMContentLoaded', event => {
    const app = firebase.app();    
    loadPageData(getPage());
})

function getPage() {
    var arr = window.location.href.split("/");

    return arr[arr.length - 1];
}

var charData = [{ "name": "CENTENNIAL COLLEGE OF APPLIED ARTS AND TECHNOLOGY", "address": "941 Progress Ave, Scarborough, ON M1G 3T8, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 23, "school supplies": 39, "location": { "lat": 43.785433, "lng": -79.22645899999999 } }, { "name": "SOCIETY OF ST VINCENT DE PAUL TORONTO WEST PARTICULAR COUNCIL TORONTO ONTARIO", "address": "728 Annette St, Toronto, ON M6S 2E2, Canada", "category": ["poverty"], "tier": 2, "toy": 35, "food": 48, "clothing": 85, "book": 0, "school supplies": 0, "location": { "lat": 43.6589554, "lng": -79.4863172 } }, { "name": "CANADIAN CHILDREN'S SHELTER OF HOPE FOUNDATION", "address": "87 Lavinia Ave, Toronto, ON M6S 3H9, Canada", "category": ["poverty"], "tier": 3, "toy": 87, "food": 25, "clothing": 52, "book": 0, "school supplies": 0, "location": { "lat": 43.6470814, "lng": -79.4775799 } }, { "name": "YONGE-ROSEDALE CHARITABLE FOUNDATION", "address": "877 Yonge St, Toronto, ON M4W 2H2, Canada", "category": ["poverty"], "tier": 3, "toy": 90, "food": 75, "clothing": 64, "book": 0, "school supplies": 0, "location": { "lat": 43.6742228, "lng": -79.3879152 } }, { "name": "CATHOLIC FAMILY SERVICES OF TORONTO", "address": "1155 Yonge St #200, Toronto, ON M4T 1W1, Canada", "category": ["poverty"], "tier": 3, "toy": 76, "food": 99, "clothing": 78, "book": 0, "school supplies": 0, "location": { "lat": 43.6821388, "lng": -79.39131809999999 } }, { "name": "CANADIAN FRIENDS OF THE WORLD UNION FOR PROGRESSIVE JUDAISM AMIS CAN DE LUNION MOND JUDAI", "address": "3845 Bathurst St, North York, ON M3H 3N2, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 20, "school supplies": 67, "location": { "lat": 43.7405407, "lng": -79.4344783 } }, { "name": "The Generation Fund", "address": "46 Fort York Blvd, Toronto, ON M5V 3Z3, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 42, "school supplies": 21, "location": { "lat": 43.6402073, "lng": -79.3954419 } }, { "name": "ARRABON, INCORPORATED", "address": "29 Wilson Park Rd, Toronto, ON M6K 3B6, Canada", "category": ["poverty"], "tier": 3, "toy": 46, "food": 40, "clothing": 57, "book": 0, "school supplies": 0, "location": { "lat": 43.6377707, "lng": -79.44149 } }, { "name": "ST. HILDA'S TOWERS INC.", "address": "95 St Clair Ave W #1400, Toronto, ON M4V 1N6, Canada", "category": ["poverty"], "tier": 3, "toy": 57, "food": 63, "clothing": 79, "book": 0, "school supplies": 0, "location": { "lat": 43.68674, "lng": -79.398158 } }, { "name": "Turtle House Art/Play Centre", "address": "760 College St, Toronto, ON M6G 4A7, Canada", "category": ["poverty"], "tier": 3, "toy": 37, "food": 36, "clothing": 80, "book": 0, "school supplies": 0, "location": { "lat": 43.65518609999999, "lng": -79.41977 } }, { "name": "UNIVERSITY SETTLEMENT", "address": "23 Grange Rd, Toronto, ON M5T 1C3, Canada", "category": ["poverty"], "tier": 3, "toy": 55, "food": 38, "clothing": 45, "book": 0, "school supplies": 0, "location": { "lat": 43.6520518, "lng": -79.3914743 } }, { "name": "MOATFIELD FOUNDATION", "address": "275 Duncan Mill Rd, North York, ON M3B 2H9, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 99, "school supplies": 53, "location": { "lat": 43.760966, "lng": -79.351044 } }, { "name": "Beacon Scholarsip Fund", "address": "66 Wellington St W Suite 4050, Toronto, ON M5K 1H1, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 75, "school supplies": 92, "location": { "lat": 43.6475163, "lng": -79.3814872 } }, { "name": "MISHMERET", "address": "24 Fairholme Ave, North York, ON M6B 2W5, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 78, "school supplies": 70, "location": { "lat": 43.7181908, "lng": -79.4315987 } }, { "name": "FRIENDS OF BALMY BEACH COMMUNITY SCHOOL", "address": "14 Pine Ave, Toronto, ON M4E 1L6, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 99, "school supplies": 31, "location": { "lat": 43.6764445, "lng": -79.2898302 } }, { "name": "CENTRO CLINTON DAY CARE CENTRE", "address": "460 Manning Ave, Toronto, ON M6G 2V7, Canada", "category": ["poverty"], "tier": 3, "toy": 80, "food": 55, "clothing": 31, "book": 0, "school supplies": 0, "location": { "lat": 43.6576089, "lng": -79.4137061 } }, { "name": "Modular Building Institute Canadian Foundation", "address": "39 River St, Toronto, ON M5A 3P1, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 24, "school supplies": 92, "location": { "lat": 43.6586644, "lng": -79.3567545 } }, { "name": "MATTHEW HOUSE REFUGEE RECEPTION SERVICES (TORONTO)", "address": "981 Dundas St W, Toronto, ON M6J 1W4, Canada", "category": ["poverty"], "tier": 3, "toy": 56, "food": 98, "clothing": 47, "book": 0, "school supplies": 0, "location": { "lat": 43.6502129, "lng": -79.41526259999999 } }, { "name": "ALLENBY DAYCARE INC", "address": "391 St Clements Ave, Toronto, ON M5N 1M2, Canada", "category": ["poverty"], "tier": 2, "toy": 51, "food": 76, "clothing": 42, "book": 0, "school supplies": 0, "location": { "lat": 43.7096995, "lng": -79.41291319999999 } }, { "name": "CANADIAN FRIENDS OF BMTC", "address": "35 Dell Park Ave, North York, ON M6B 2T5, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 96, "school supplies": 40, "location": { "lat": 43.7168658, "lng": -79.43208229999999 } }, { "name": "THE REGENT PARK SCHOOL OF MUSIC FOUNDATION", "address": "220 Dundas St E, Toronto, ON M5A 1Z6, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 60, "school supplies": 88, "location": { "lat": 43.6579898, "lng": -79.3729915 } }, { "name": "CORNERSTONE PLACE", "address": "21 Blackthorn Ave, Toronto, ON M6N 3H4, Canada", "category": ["poverty"], "tier": 2, "toy": 61, "food": 45, "clothing": 45, "book": 0, "school supplies": 0, "location": { "lat": 43.6750842, "lng": -79.45852359999999 } }, { "name": "THE BERNARD BETEL CENTRE FOR CREATIVE LIVING", "address": "1003 Steeles Ave W, North York, ON M2R 3T6, Canada", "category": ["poverty"], "tier": 3, "toy": 60, "food": 86, "clothing": 99, "book": 0, "school supplies": 0, "location": { "lat": 43.7919131, "lng": -79.4472141 } }, { "name": "ONTARIO ARCHAEOLOGICAL SOCIETY", "address": "Toronto, ON, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 44, "school supplies": 58, "location": { "lat": 43.653226, "lng": -79.3831843 } }, { "name": "Society of Saint Vincent de Paul - St Francis of Assisi Conference, Toronto, ON", "address": "72 Mansfield Ave, Toronto, ON M6J 2B2, Canada", "category": ["poverty"], "tier": 2, "toy": 87, "food": 33, "clothing": 56, "book": 0, "school supplies": 0, "location": { "lat": 43.6534298, "lng": -79.41418 } }, { "name": "Knowledge Empowering Youth Canada", "address": "1027 Yonge St, Toronto, ON M4W 2K9, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 75, "school supplies": 55, "location": { "lat": 43.6776412, "lng": -79.38945439999999 } }, { "name": "Bais Yaakov Mother's Association", "address": "15 Saranac Blvd, North York, ON M6A 2G4, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 42, "school supplies": 23, "location": { "lat": 43.721449, "lng": -79.43179649999999 } }, { "name": "ST CYRIL CATHOLIC SCHOOL FOUNDATION", "address": "18 Kempford Blvd, North York, ON M2N 2B9, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 34, "school supplies": 82, "location": { "lat": 43.776928, "lng": -79.4167064 } }, { "name": "ERNESCLIFF FOUNDATION", "address": "Ernescliff College, 156 St George St, Toronto, ON M5S 2G1, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 66, "school supplies": 60, "location": { "lat": 43.6665466, "lng": -79.399931 } }, { "name": "H3 Network Media Alliance", "address": "120 Eglinton Ave E, Toronto, ON M4P 1E2, Canada", "category": ["poverty"], "tier": 2, "toy": 81, "food": 55, "clothing": 57, "book": 0, "school supplies": 0, "location": { "lat": 43.7076991, "lng": -79.394878 } }, { "name": "SANCTA MARIA HOUSE", "address": "102 Bernard Ave, Toronto, ON M5R 1R9, Canada", "category": ["poverty"], "tier": 2, "toy": 79, "food": 39, "clothing": 77, "book": 0, "school supplies": 0, "location": { "lat": 43.6730072, "lng": -79.40303949999999 } }, { "name": "ALAMELU CHILDREN'S HOMES (CANADA)", "address": "284 Ellis Ave, Toronto, ON M6S 2X2, Canada", "category": ["poverty"], "tier": 2, "toy": 30, "food": 88, "clothing": 91, "book": 0, "school supplies": 0, "location": { "lat": 43.6457017, "lng": -79.472703 } }, { "name": "Hope for the Living", "address": "Chicago, IL 60617, USA", "category": ["poverty"], "tier": 3, "toy": 66, "food": 93, "clothing": 84, "book": 0, "school supplies": 0, "location": { "lat": 41.7246539, "lng": -87.5494745 } }, { "name": "The Mosaic Institute for Harnessing Diversity", "address": "Two Bloor West, Toronto, ON M7A 2T2, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 47, "school supplies": 31, "location": { "lat": 43.6702696, "lng": -79.3872389 } }, { "name": "Charity Name", "address": "Toronto, ON, Canada", "category": ["poverty", "education"], "tier": 2, "toy": 58, "food": 57, "clothing": 68, "book": 55, "school supplies": 85, "location": { "lat": 43.653226, "lng": -79.3831843 } }, { "name": "KESHER EMPLOYMENT SERVICES", "address": "3995 Bathurst St, North York, ON M3H 5V3, Canada", "category": ["poverty"], "tier": 3, "toy": 93, "food": 38, "clothing": 29, "book": 0, "school supplies": 0, "location": { "lat": 43.7441673, "lng": -79.4352696 } }, { "name": "ST GEORGE'S COLLEGE FOUNDATION", "address": "120 Howland Ave, Toronto, ON M5R 3B5, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 80, "school supplies": 28, "location": { "lat": 43.6693937, "lng": -79.4104497 } }, { "name": "ST BERNADETTE'S FAMILY RESOURCE CENTRE (METROPOLITAN TORONTO) INC", "address": "128 Ewart Ave, York, ON M6M 1M9, Canada", "category": ["poverty"], "tier": 2, "toy": 36, "food": 64, "clothing": 24, "book": 0, "school supplies": 0, "location": { "lat": 43.6870397, "lng": -79.472839 } }, { "name": "THE HARBORD CHARITABLE FOUNDATION", "address": "286 Harbord St, Toronto, ON M6G 1G5, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 51, "school supplies": 72, "location": { "lat": 43.66120799999999, "lng": -79.414286 } }, { "name": "Lite the Nite Ministries", "address": "250 Wellington St W, Toronto, ON M5V 3P6, Canada", "category": ["poverty"], "tier": 3, "toy": 89, "food": 97, "clothing": 44, "book": 0, "school supplies": 0, "location": { "lat": 43.6451952, "lng": -79.3906811 } }, { "name": "Canada Job Training Business Inc.", "address": "1 Yonge St, Toronto, ON M5E 1W7, Canada", "category": ["poverty"], "tier": 3, "toy": 97, "food": 58, "clothing": 96, "book": 0, "school supplies": 0, "location": { "lat": 43.6429251, "lng": -79.3741862 } }, { "name": "ESTONIAN ECUMENICAL RELIEF ORGANIZATION", "address": "110 Highbourne Rd, Toronto, ON M5P 2J6, Canada", "category": ["poverty"], "tier": 2, "toy": 47, "food": 61, "clothing": 49, "book": 0, "school supplies": 0, "location": { "lat": 43.7009344, "lng": -79.40598609999999 } }, { "name": "GREENWOOD COLLEGE SCHOOL FOUNDATION", "address": "443 Mt Pleasant Rd, Toronto, ON M4S 2L8, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 58, "school supplies": 64, "location": { "lat": 43.7002139, "lng": -79.38639739999999 } }, { "name": "The Citrine Foundation of Canada", "address": "181 Bay St, Toronto, ON M5J 2V1, Canada", "category": ["poverty"], "tier": 3, "toy": 48, "food": 63, "clothing": 85, "book": 0, "school supplies": 0, "location": { "lat": 43.64726160000001, "lng": -79.3785998 } }, { "name": "HOPE SENIORS CENTRE-DANFORTH", "address": "Avenue Rd, Toronto, ON, Canada", "category": ["poverty"], "tier": 3, "toy": 77, "food": 70, "clothing": 46, "book": 0, "school supplies": 0, "location": { "lat": 43.719327, "lng": -79.4147459 } }, { "name": "THE HUGH AND ILENE LAWSON CHARITABLE ORGANIZATION", "address": "170 Sumach St, Toronto, ON M5A 0C3, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 65, "school supplies": 40, "location": { "lat": 43.6598407, "lng": -79.36079950000001 } }, { "name": "THE CHABAD REHOVOT FUND", "address": "63 Charleswood Dr, North York, ON M3H 1X5, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 73, "school supplies": 39, "location": { "lat": 43.7371215, "lng": -79.4388964 } }, { "name": "The Daughters for Life Foundation", "address": "20 De Boers Dr #380, North York, ON M3J 0H1, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 27, "school supplies": 58, "location": { "lat": 43.7519641, "lng": -79.4653786 } }, { "name": "Society of Saint Vincent de Paul Toronto Central Council / Soci\u00ef\u00bf\u00bdt\u00ef\u00bf\u00bd de Saint-Vincent de Paul Conseil Central de Toronto", "address": "240 Church St, Toronto, ON M5B 1Z2, Canada", "category": ["poverty"], "tier": 3, "toy": 56, "food": 99, "clothing": 65, "book": 0, "school supplies": 0, "location": { "lat": 43.6558471, "lng": -79.3769973 } }, { "name": "C.D. HOWE INSTITUTE", "address": "67 Yonge St #300, Toronto, ON M5E 1J8, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 52, "school supplies": 87, "location": { "lat": 43.6487438, "lng": -79.3774881 } }, { "name": "THE NIHEWAN FOUNDATION", "address": "160 John St #300, Toronto, ON M5V 2A4, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 27, "school supplies": 92, "location": { "lat": 43.6494996, "lng": -79.39114320000002 } }, { "name": "Centre for Immigrant and Community Services", "address": "2330 Midland Ave, Scarborough, ON M1S 5G5, Canada", "category": ["poverty"], "tier": 3, "toy": 63, "food": 85, "clothing": 56, "book": 0, "school supplies": 0, "location": { "lat": 43.7783013, "lng": -79.27603429999999 } }, { "name": "C4C Canada / Canada C4C", "address": "33 Prince Arthur Ave, Toronto, ON M5R 1B2, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 27, "school supplies": 40, "location": { "lat": 43.6692428, "lng": -79.3969201 } }, { "name": "GENEROUS HEARTS", "address": "Toronto, ON, Canada", "category": ["poverty"], "tier": 3, "toy": 87, "food": 87, "clothing": 51, "book": 0, "school supplies": 0, "location": { "lat": 43.653226, "lng": -79.3831843 } }, { "name": "ACCESS FOR PARENTS AND CHILDREN IN ONTARIO", "address": "34 Simcoe St #301, Barrie, ON L4N 6T4, Canada", "category": ["poverty"], "tier": 3, "toy": 90, "food": 57, "clothing": 26, "book": 0, "school supplies": 0, "location": { "lat": 44.3868649, "lng": -79.6916471 } }, { "name": "Ripple Foundation", "address": "69 Yorkville Ave, Toronto, ON M5R 1B8, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 92, "school supplies": 97, "location": { "lat": 43.6710536, "lng": -79.3909546 } }, { "name": "SOCIETY OF ST-VINCENT DE PAUL-TORONTO EAST PARTICULAR COUNCIL", "address": "240 Church St, Toronto, ON M5B 1Z2, Canada", "category": ["poverty"], "tier": 3, "toy": 86, "food": 96, "clothing": 39, "book": 0, "school supplies": 0, "location": { "lat": 43.6558471, "lng": -79.3769973 } }, { "name": "CANADIAN FRIENDS OF LATYMER PREP SCHOOL AND UPPER SCHOOL TRUST", "address": "176 Old Yonge St, North York, ON M2P 1P9, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 89, "school supplies": 42, "location": { "lat": 43.7467847, "lng": -79.4020075 } }, { "name": "ADMINISTRATIVE SCIENCES ASSOCIATION OF CANADA (ASAC)/ASSOCIATION DES SCIENCES ADMINISTRATIVES DU CANADA (ASAC)", "address": "57 Gothic Ave, Toronto, ON M6P 2V8, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 35, "school supplies": 88, "location": { "lat": 43.65455, "lng": -79.4691114 } }, { "name": "TORONTO WATERFRONT MONTESSORI CHILDRENS CENTRES", "address": "18 Wyandot Ave, Toronto, ON M5J 2M9, Canada", "category": ["poverty"], "tier": 3, "toy": 62, "food": 73, "clothing": 34, "book": 0, "school supplies": 0, "location": { "lat": 43.6264831, "lng": -79.3621758 } }, { "name": "CAMPUS COMMUNITY CO-OPERATIVE DAY CARE CENTRE INC.", "address": "370 Huron St, Toronto, ON M5S 2G4, Canada", "category": ["poverty"], "tier": 3, "toy": 40, "food": 86, "clothing": 74, "book": 0, "school supplies": 0, "location": { "lat": 43.6645893, "lng": -79.40072719999999 } }, { "name": "THE ROBERT P. PATTERSON MEMORIAL FUND", "address": "Exchange Tower, 130 King St W 20TH FLOOR, Toronto, ON M5X 2A2, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 23, "school supplies": 24, "location": { "lat": 43.648528, "lng": -79.38333589999999 } }, { "name": "St. Stanislaus College (Guyana) Alumni Society", "address": "4544 Sheppard Ave E, Scarborough, ON M1S 1V2, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 91, "school supplies": 27, "location": { "lat": 43.7889217, "lng": -79.26365899999999 } }, { "name": "BUILDING OWNERS AND MANAGERS INSTITUTE OF CANADA", "address": "55 York St, Toronto, ON M5J 1R7, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 33, "school supplies": 48, "location": { "lat": 43.6462258, "lng": -79.3825135 } }, { "name": "The Heart to Heart Foundation", "address": "156 Shelborne Ave, North York, ON M6B 2N1, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 44, "school supplies": 63, "location": { "lat": 43.7154375, "lng": -79.4321781 } }, { "name": "CANADIAN CIVIL LIBERTIES EDUCATION TRUST", "address": "900 Eglinton Ave E, East York, ON M4G 2L3, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 21, "school supplies": 71, "location": { "lat": 43.71413159999999, "lng": -79.3622661 } }, { "name": "THE GIBBONS-DALEY FOUNDATION", "address": "5140 Yonge St, North York, ON M2N 6L7, Canada", "category": ["poverty"], "tier": 3, "toy": 74, "food": 49, "clothing": 36, "book": 0, "school supplies": 0, "location": { "lat": 43.7684301, "lng": -79.4131274 } }, { "name": "Toronto Region Immigrant Employment Council (TRIEC)", "address": "603 Dundas St W, Toronto, ON M5T 1H7, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 84, "school supplies": 21, "location": { "lat": 43.6519827, "lng": -79.4016716 } }, { "name": "TORONTO COMMUNITY-VIDEOTEX", "address": "1 Dupont St, Toronto, ON M5R 2J4, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 47, "school supplies": 81, "location": { "lat": 43.6769583, "lng": -79.3980168 } }, { "name": "NA-ME-RES (NATIVE MEN'S RESIDENCE)", "address": "14 Vaughan Rd, Toronto, ON M6G 2N1, Canada", "category": ["poverty"], "tier": 3, "toy": 101, "food": 39, "clothing": 80, "book": 0, "school supplies": 0, "location": { "lat": 43.681428, "lng": -79.4183468 } }, { "name": "NATURAL FAMILY PLANNING ASSOCIATION", "address": "205 Yonge St, Toronto, ON M5B 1M4, Canada", "category": ["poverty"], "tier": 3, "toy": 80, "food": 51, "clothing": 86, "book": 0, "school supplies": 0, "location": { "lat": 43.6535289, "lng": -79.379333 } }, { "name": "LAKESHORE AREA MULTI-SERVICES PROJECT LAMP INC.", "address": "185 Fifth St, Etobicoke, ON M8V 2Z5, Canada", "category": ["poverty"], "tier": 3, "toy": 75, "food": 61, "clothing": 82, "book": 0, "school supplies": 0, "location": { "lat": 43.60349919999999, "lng": -79.5033854 } }, { "name": "The Shalem Foundation Canada", "address": "155 Wellington St W, Toronto, ON M5V 3H6, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 47, "school supplies": 72, "location": { "lat": 43.6455947, "lng": -79.386063 } }, { "name": "MARSHA & TAMARA OTTEY YOUTH SOLUTIONS", "address": "400 Passmore Ave, Scarborough, ON M1V 4B3, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 68, "school supplies": 42, "location": { "lat": 43.829107, "lng": -79.2580828 } }, { "name": "THE OLD ROAD FOUNDATION OF CANADA/LA FONDATION OLD ROAD DU CANADA", "address": "952 College St, Toronto, ON M6H 1A5, Canada", "category": ["poverty"], "tier": 2, "toy": 47, "food": 89, "clothing": 45, "book": 0, "school supplies": 0, "location": { "lat": 43.6536029, "lng": -79.4269685 } }, { "name": "PARKDALE ACTIVITY-RECREATION CENTRE (TORONTO)", "address": "1499 Queen St W, Toronto, ON M6R 1A3, Canada", "category": ["poverty"], "tier": 3, "toy": 49, "food": 78, "clothing": 31, "book": 0, "school supplies": 0, "location": { "lat": 43.6395743, "lng": -79.44052669999999 } }, { "name": "FOREST HILL PUBLIC SCHOOL HOME AND SCHOOL EDUCATION FUND", "address": "78 Dunloe Rd, Toronto, ON M5P 2T6, Canada", "category": ["education"], "tier": 1, "toy": 0, "food": 0, "clothing": 0, "book": 80, "school supplies": 98, "location": { "lat": 43.6955213, "lng": -79.4139356 } }, { "name": "FSAEA: The Foundation for Student Advancement, Excellence and Advocacy", "address": "60 Skyview Crescent, North York, ON M2J 1B8, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 87, "school supplies": 64, "location": { "lat": 43.7697574, "lng": -79.34702879999999 } }, { "name": "ST. ANDREW'S COLLEGE GRAHAMSTOWN FOUNDATION OF CANADA", "address": "28 Douglas Dr, Toronto, ON M4W 2B3, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 78, "school supplies": 35, "location": { "lat": 43.6837455, "lng": -79.3812465 } }, { "name": "SUNNYVIEW YOUTH INVOLVEMENT ASSOCIATION", "address": "450 Blythwood Rd, North York, ON M4N 1A9, Canada", "category": ["poverty"], "tier": 3, "toy": 75, "food": 75, "clothing": 85, "book": 0, "school supplies": 0, "location": { "lat": 43.719761, "lng": -79.3875585 } }, { "name": "L'ARCHE TORONTO HOMES INC.", "address": "186 Floyd Ave, East York, ON M4J 2J1, Canada", "category": ["poverty"], "tier": 2, "toy": 50, "food": 21, "clothing": 69, "book": 0, "school supplies": 0, "location": { "lat": 43.6878802, "lng": -79.3469293 } }, { "name": "MEMORIAL LECTURES FUND COMMITTEE ( C I C A )", "address": "277 Wellington St W, Toronto, ON M5V 3E4, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 39, "school supplies": 23, "location": { "lat": 43.6446131, "lng": -79.3912943 } }, { "name": "FRIENDS OF YIDDISH IN TORONTO", "address": "481 Oriole Pkwy, Toronto, ON M5P 2H9, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 75, "school supplies": 35, "location": { "lat": 43.7039858, "lng": -79.4054282 } }, { "name": "BAYCREST DAY CARE CENTRE", "address": "3560 Bathurst St, North York, ON M6A 2X8, Canada", "category": ["poverty"], "tier": 3, "toy": 88, "food": 67, "clothing": 34, "book": 0, "school supplies": 0, "location": { "lat": 43.73006789999999, "lng": -79.43420840000002 } }, { "name": "DOUG PHILPOTT INNER-CITY CHILDREN'S TENNIS FUND", "address": "119 Eglinton Ave E, Toronto, ON M4P 1H4, Canada", "category": ["poverty"], "tier": 3, "toy": 75, "food": 48, "clothing": 38, "book": 0, "school supplies": 0, "location": { "lat": 43.7076183, "lng": -79.3941287 } }, { "name": "PORTLAND PLACE NON-PROFIT HOUSING CORPORATION", "address": "163 Portland St, Toronto, ON M5V 3E8, Canada", "category": ["poverty"], "tier": 3, "toy": 24, "food": 23, "clothing": 90, "book": 0, "school supplies": 0, "location": { "lat": 43.6472405, "lng": -79.4008849 } }, { "name": "CHRISTIE GARDENS APARTMENTS AND CARE INC.", "address": "600 Melita Crescent, Toronto, ON M6G 3Z4, Canada", "category": ["poverty"], "tier": 3, "toy": 76, "food": 50, "clothing": 84, "book": 0, "school supplies": 0, "location": { "lat": 43.6730374, "lng": -79.4223088 } }, { "name": "WEllbeing Foundation", "address": "339 Queen St E, Toronto, ON M5A 1S9, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 21, "school supplies": 59, "location": { "lat": 43.6553179, "lng": -79.36465129999999 } }, { "name": "CANADIAN SOCIETY FOR YAD VASHEM", "address": "218 Rimrock Rd, North York, ON M3J 3A6, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 45, "school supplies": 37, "location": { "lat": 43.75771750000001, "lng": -79.4671831 } }, { "name": "CSARN", "address": "1000 Yonge St #300B, Toronto, ON M4W 2K2, Canada", "category": ["poverty"], "tier": 3, "toy": 53, "food": 54, "clothing": 79, "book": 0, "school supplies": 0, "location": { "lat": 43.675734, "lng": -79.38927389999999 } }, { "name": "MAKE-A-WISH FOUNDATION OF CANADA", "address": "4211 Yonge St, North York, ON M2P 2A9, Canada", "category": ["poverty"], "tier": 3, "toy": 87, "food": 65, "clothing": 51, "book": 0, "school supplies": 0, "location": { "lat": 43.74816999999999, "lng": -79.4071736 } }, { "name": "ST. STEPHEN'S COMMUNITY HOUSE", "address": "91 Bellevue Ave, Toronto, ON M5T 2N8, Canada", "category": ["poverty"], "tier": 3, "toy": 72, "food": 81, "clothing": 74, "book": 0, "school supplies": 0, "location": { "lat": 43.6562553, "lng": -79.4037584 } }, { "name": "CHARLES WILLIAM WEST MEMORIAL SCHOLARSHIP FOUNDATION", "address": "Exchange Tower, 130 King St W 20TH FLOOR, Toronto, ON M5X 2A2, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 70, "school supplies": 74, "location": { "lat": 43.648528, "lng": -79.38333589999999 } }, { "name": "THE ST VINCENT DE PAUL SOCIETY HOLY ROSARY CONFERENCE", "address": "354 St Clair Ave W, York, ON M5P 1N4, Canada", "category": ["poverty"], "tier": 3, "toy": 100, "food": 56, "clothing": 37, "book": 0, "school supplies": 0, "location": { "lat": 43.6845091, "lng": -79.4139086 } }, { "name": "iCompassion Foundation International", "address": "83 Christie St, Toronto, ON M6G 3B1, Canada", "category": ["poverty"], "tier": 3, "toy": 95, "food": 65, "clothing": 57, "book": 0, "school supplies": 0, "location": { "lat": 43.665445, "lng": -79.4190483 } }, { "name": "CAPUCHIN OUTREACH TO THE POOR PARKDALE", "address": "1322 Queen St W, Toronto, ON M6K 1L4, Canada", "category": ["poverty"], "tier": 1, "toy": 49, "food": 22, "clothing": 57, "book": 0, "school supplies": 0, "location": { "lat": 43.6417709, "lng": -79.4313615 } }, { "name": "Hands Up Canada", "address": "41 Beech Ave, Toronto, ON M4E 3H3, Canada", "category": ["poverty"], "tier": 3, "toy": 61, "food": 93, "clothing": 101, "book": 0, "school supplies": 0, "location": { "lat": 43.6716758, "lng": -79.2867455 } }, { "name": "Eshkiniigjik Naandwechigegamig, Aabiish Gaa Binjibaaying - ENAGB Youth Program", "address": "16 Spadina Rd, Toronto, ON M5R 2S7, Canada", "category": ["poverty"], "tier": 3, "toy": 87, "food": 45, "clothing": 48, "book": 0, "school supplies": 0, "location": { "lat": 43.6681907, "lng": -79.4049466 } }, { "name": "THE TORONTO KIWANIS - T P LOBLAW CHARITABLE TRUST", "address": "100 King St W, Toronto, ON M5X 1A3, Canada", "category": ["poverty"], "tier": 3, "toy": 21, "food": 62, "clothing": 28, "book": 0, "school supplies": 0, "location": { "lat": 43.64863769999999, "lng": -79.381737 } }, { "name": "CANADIAN FRIENDS OF MICHLALAH", "address": "144 Shelborne Ave, Toronto, ON M6B, Canada", "category": ["education"], "tier": 1, "toy": 0, "food": 0, "clothing": 0, "book": 22, "school supplies": 101, "location": { "lat": 43.7158418, "lng": -79.43126389999999 } }, { "name": "VE'AHAVTA: THE CANADIAN JEWISH HUMANITARIAN & RELIEF COMMITTEE", "address": "200 Bridgeland Ave UNIT D, North York, ON M6A 1Z4, Canada", "category": ["poverty"], "tier": 3, "toy": 20, "food": 101, "clothing": 39, "book": 0, "school supplies": 0, "location": { "lat": 43.72491790000001, "lng": -79.4671532 } }, { "name": "CANADIAN FRIENDS OF THE ZION ORPHANAGE AND EDUCATIONAL CENTRE", "address": "144 Shelborne Ave, Toronto, ON M6B, Canada", "category": ["poverty"], "tier": 2, "toy": 94, "food": 47, "clothing": 52, "book": 0, "school supplies": 0, "location": { "lat": 43.7158418, "lng": -79.43126389999999 } }, { "name": "The Shelter Movers of Toronto", "address": "1600 Yonge St, Toronto, ON M4T 1Z8, Canada", "category": ["poverty"], "tier": 3, "toy": 78, "food": 86, "clothing": 27, "book": 0, "school supplies": 0, "location": { "lat": 43.6913608, "lng": -79.39540199999999 } }, { "name": "YVES LANDRY FOUNDATION", "address": "10 Four Seasons Pl, Etobicoke, ON M9B 6H7, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 28, "school supplies": 85, "location": { "lat": 43.6472213, "lng": -79.56183659999999 } }, { "name": "Kid Powered Media", "address": "177 Soudan Ave, Toronto, ON M4S 1V5, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 52, "school supplies": 20, "location": { "lat": 43.7052915, "lng": -79.3925958 } }, { "name": "FEE ASSISTANCE FOR REFUGEE ESTABLISHMENT INC.", "address": "120 Homewood Ave, Toronto, ON M4Y 1J4, Canada", "category": ["poverty"], "tier": 3, "toy": 101, "food": 70, "clothing": 26, "book": 0, "school supplies": 0, "location": { "lat": 43.66703, "lng": -79.3763862 } }, { "name": "ONTARIO HIGH SCHOOL GERMAN CONTEST", "address": "548 Manning Ave, Toronto, ON M6G 2V9, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 59, "school supplies": 43, "location": { "lat": 43.6608446, "lng": -79.41505579999999 } }, { "name": "THE UPPER CANADA COLLEGE FOUNDATION", "address": "200 Lonsdale Rd, Toronto, ON M4V 2X8, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 66, "school supplies": 58, "location": { "lat": 43.69330679999999, "lng": -79.4037458 } }, { "name": "5N2 Soup Kitchen Project", "address": "197 East Ave, Scarborough, ON M1C 3K2, Canada", "category": ["poverty"], "tier": 3, "toy": 23, "food": 41, "clothing": 30, "book": 0, "school supplies": 0, "location": { "lat": 43.7869125, "lng": -79.1339663 } }, { "name": "Dr. Jay Children's Grief Centre", "address": "405 Davisville Ave, Toronto, ON M4S 1H4, Canada", "category": ["poverty"], "tier": 1, "toy": 89, "food": 96, "clothing": 99, "book": 0, "school supplies": 0, "location": { "lat": 43.7013961, "lng": -79.3809496 } }, { "name": "Majengo Canada", "address": "17 Sidney St, Toronto, ON M4V 2G3, Canada", "category": ["poverty"], "tier": 3, "toy": 58, "food": 59, "clothing": 51, "book": 0, "school supplies": 0, "location": { "lat": 43.6791182, "lng": -79.3970885 } }, { "name": "THE TORONTO AGED MEN'S AND WOMEN'S HOMES", "address": "55 Belmont St, Toronto, ON M5R 1R1, Canada", "category": ["poverty"], "tier": 3, "toy": 86, "food": 36, "clothing": 46, "book": 0, "school supplies": 0, "location": { "lat": 43.6746049, "lng": -79.3910664 } }, { "name": "THE WILLIAM MORRIS SOCIETY OF CANADA", "address": "87 Government Rd, Etobicoke, ON M8X 1W4, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 55, "school supplies": 77, "location": { "lat": 43.6588688, "lng": -79.5103096 } }, { "name": "THE SALVATION ARMY TORONTO BROADVIEW VILLAGE", "address": "1132 Broadview Ave, East York, ON M4K 2S6, Canada", "category": ["poverty"], "tier": 3, "toy": 95, "food": 45, "clothing": 35, "book": 0, "school supplies": 0, "location": { "lat": 43.6872311, "lng": -79.35599330000001 } }, { "name": "EARTHROOTS FUND", "address": "410 Richmond St W, Toronto, ON M5V 2L7, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 40, "school supplies": 24, "location": { "lat": 43.6479243, "lng": -79.39585009999999 } }, { "name": "MONTROSE CHILD CARE CENTRE INC", "address": "301 Montrose Ave, Toronto, ON M6G 3G9, Canada", "category": ["poverty"], "tier": 3, "toy": 94, "food": 24, "clothing": 90, "book": 0, "school supplies": 0, "location": { "lat": 43.6586902, "lng": -79.418847 } }, { "name": "WEST PARK HEALTHCARE CENTRE FOUNDATION", "address": "82 Buttonwood Ave, York, ON M6M 2J5, Canada", "category": ["poverty"], "tier": 3, "toy": 59, "food": 64, "clothing": 50, "book": 0, "school supplies": 0, "location": { "lat": 43.68933120000001, "lng": -79.5078843 } }, { "name": "ROOFTOPS CANADA FOUNDATION INC. FONDATION ABRI INTERNATIONAL INC.", "address": "720 Spadina Ave, Toronto, ON M5S 2T9, Canada", "category": ["poverty"], "tier": 3, "toy": 20, "food": 92, "clothing": 71, "book": 0, "school supplies": 0, "location": { "lat": 43.6653855, "lng": -79.4034771 } }, { "name": "THE SALVATION ARMY BUNTON LODGE ADULT RESOURCE CENTRE", "address": "422 Sherbourne St, Toronto, ON M4X 1K2, Canada", "category": ["poverty"], "tier": 3, "toy": 34, "food": 70, "clothing": 71, "book": 0, "school supplies": 0, "location": { "lat": 43.6652253, "lng": -79.37420820000001 } }, { "name": "ALL SAINTS CHURCH HOMES FOR TOMORROW SOCIETY", "address": "319 Dundas St E, Toronto, ON M5A 2A1, Canada", "category": ["poverty"], "tier": 3, "toy": 29, "food": 89, "clothing": 35, "book": 0, "school supplies": 0, "location": { "lat": 43.6580919, "lng": -79.3702709 } }, { "name": "Young Mining Professionals Scholarship Fund", "address": "40 King St W #2100, Toronto, ON M5H 3C2, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 56, "school supplies": 64, "location": { "lat": 43.64934909999999, "lng": -79.3795277 } }, { "name": "The Youth Connection Mexico", "address": "38 Avenue Rd, Toronto, ON M5R 2G2, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 49, "school supplies": 63, "location": { "lat": 43.6703971, "lng": -79.39502279999999 } }, { "name": "UNITED ISRAEL APPEAL OF CANADA INC", "address": "315 Bathurst St, Toronto, ON M5T, Canada", "category": ["poverty"], "tier": 3, "toy": 76, "food": 65, "clothing": 23, "book": 0, "school supplies": 0, "location": { "lat": 43.6516129, "lng": -79.40573789999999 } }, { "name": "DUNSTAN SCHOLARSHIP FUND", "address": "Exchange Tower, 130 King St W 20TH FLOOR, Toronto, ON M5X 2A2, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 36, "school supplies": 75, "location": { "lat": 43.648528, "lng": -79.38333589999999 } }, { "name": "GENEVA CENTRE FOR AUTISM", "address": "112 Merton St, Toronto, ON M4S 2Z8, Canada", "category": ["poverty"], "tier": 3, "toy": 92, "food": 85, "clothing": 95, "book": 0, "school supplies": 0, "location": { "lat": 43.6971311, "lng": -79.39278449999999 } }, { "name": "SOCIETY OF ST VINCENT DE PAUL OUR LADY OF PERPETUAL HELP CONFERENCE", "address": "78 Clifton Rd, Toronto, ON M4T 2G2, Canada", "category": ["poverty"], "tier": 3, "toy": 46, "food": 33, "clothing": 33, "book": 0, "school supplies": 0, "location": { "lat": 43.690439, "lng": -79.3845791 } }, { "name": "WELLSPRING CANCER SUPPORT FOUNDATION/FONDATION WELLSPRING POUR LES PERSONNES ATTEINTES DE CANCER", "address": "105 Wellness Way, Toronto, ON M4N 3M5, Canada", "category": ["poverty"], "tier": 3, "toy": 24, "food": 100, "clothing": 84, "book": 0, "school supplies": 0, "location": { "lat": 43.723661, "lng": -79.3783504 } }, { "name": "Ready, Set, Play Children's Charity", "address": "150 Crawford St, Toronto, ON M6J 2V4, Canada", "category": ["poverty"], "tier": 2, "toy": 52, "food": 67, "clothing": 71, "book": 0, "school supplies": 0, "location": { "lat": 43.646374, "lng": -79.4158566 } }, { "name": "LONERGAN RESEARCH INSTITUTE", "address": "100 Wellesley St W, Toronto, ON M5S 2Z5, Canada", "category": ["education"], "tier": 3, "toy": 0, "food": 0, "clothing": 0, "book": 87, "school supplies": 29, "location": { "lat": 43.6639913, "lng": -79.39003850000002 } }, { "name": "THE TORONTO CHILDREN'S BREAKFAST CLUB", "address": "100 Sheppard Ave E, North York, ON M2N 6N5, Canada", "category": ["poverty"], "tier": 3, "toy": 95, "food": 83, "clothing": 74, "book": 0, "school supplies": 0, "location": { "lat": 43.7632483, "lng": -79.4054146 } }, { "name": "J.F. OF CANADA", "address": "117 Barse St, North York, ON M5M 4L3, Canada", "category": ["education"], "tier": 1, "toy": 0, "food": 0, "clothing": 0, "book": 65, "school supplies": 88, "location": { "lat": 43.7296353, "lng": -79.43025779999999 } }, { "name": "One Body Village", "address": "70 Temperance St, Toronto, ON M5H 0B1, Canada", "category": ["poverty"], "tier": 3, "toy": 58, "food": 49, "clothing": 27, "book": 0, "school supplies": 0, "location": { "lat": 43.6505597, "lng": -79.3820722 } }, { "name": "KIDS OF THE FUTURE FOUNDATION", "address": "5000 Dufferin St, North York, ON M3H 5T5, Canada", "category": ["poverty"], "tier": 3, "toy": 40, "food": 48, "clothing": 37, "book": 0, "school supplies": 0, "location": { "lat": 43.7820312, "lng": -79.4712674 } }, { "name": "BLYTHWOOD PARENT-SCHOOL ASSOCIATION", "address": "2 Strathgowan Crescent, Toronto, ON M4N 2Z5, Canada", "category": ["education"], "tier": 2, "toy": 0, "food": 0, "clothing": 0, "book": 93, "school supplies": 101, "location": { "lat": 43.7198522, "lng": -79.38919700000001 } }, { "name": "LORD DUFFERIN COMMUNITY DAY CARE CENTRE", "address": "350 Parliament St, Toronto, ON M5A 2Z7, Canada", "category": ["poverty"], "tier": 2, "toy": 38, "food": 23, "clothing": 77, "book": 0, "school supplies": 0, "location": { "lat": 43.6606768, "lng": -79.3668498 } }, { "name": "KIDS IN CAMP", "address": "206 Lord Seaton Rd, North York, ON M2P 1L2, Canada", "category": ["poverty"], "tier": 3, "toy": 58, "food": 58, "clothing": 90, "book": 0, "school supplies": 0, "location": { "lat": 43.75737729999999, "lng": -79.3935127 } }, { "name": "Basso-Fasso Organisation", "address": "25 Chaldean St, Scarborough, ON M1W 2B6, Canada", "category": ["poverty"], "tier": 3, "toy": 20, "food": 89, "clothing": 24, "book": 0, "school supplies": 0, "location": { "lat": 43.793059, "lng": -79.3037078 } }, { "name": "HOPE4CHILD RELIEF MISSION INC.", "address": "2365 Warden Ave, Scarborough, ON M1T 1V7, Canada", "category": ["poverty"], "tier": 3, "toy": 44, "food": 43, "clothing": 56, "book": 0, "school supplies": 0, "location": { "lat": 43.7851326, "lng": -79.3108026 } }, { "name": "WEST END PARENTS DAY CARE CENTRE", "address": "375 Dovercourt Rd, Toronto, ON M6J 3E5, Canada", "category": ["poverty"], "tier": 3, "toy": 32, "food": 44, "clothing": 70, "book": 0, "school supplies": 0, "location": { "lat": 43.6523404, "lng": -79.42519759999999 } }, { "name": "THE IRISH BENEVOLENT SOCIETY OF TORONTO", "address": "High Park, 1873 Bloor St W, Toronto, ON M6R 2Z3, Canada", "category": ["poverty"], "tier": 2, "toy": 44, "food": 20, "clothing": 55, "book": 0, "school supplies": 0, "location": { "lat": 43.64654789999999, "lng": -79.4636903 } }, { "name": "COTA HEALTH", "address": "201 Queen St E, Toronto, ON M5A 1S2, Canada", "category": ["poverty"], "tier": 3, "toy": 25, "food": 31, "clothing": 101, "book": 0, "school supplies": 0, "location": { "lat": 43.6540885, "lng": -79.3707658 } }, { "name": "FOCUS HUMANITARIAN ASSISTANCE CANADA - FOCUS ASSISTANCE HUMANITAIRE CANADA", "address": "200 Wynford Dr, Toronto, ON M3C 0C7, Canada", "category": ["poverty"], "tier": 2, "toy": 70, "food": 97, "clothing": 93, "book": 0, "school supplies": 0, "location": { "lat": 43.72465830000001, "lng": -79.32551260000001 } }, { "name": "CANADIAN FOUNDATION FOR CHILDREN, YOUTH AND THE LAW INC.", "address": "55 University Ave, Toronto, ON M5J 2H7, Canada", "category": ["poverty"], "tier": 2, "toy": 71, "food": 25, "clothing": 82, "book": 0, "school supplies": 0, "location": { "lat": 43.6467318, "lng": -79.3839517 } }, { "name": "TORONTO FINNISH-CANADIAN SENIORS CENTRE", "address": "795 Eglinton Ave E, East York, ON M4G 2L1, Canada", "category": ["poverty"], "tier": 3, "toy": 24, "food": 100, "clothing": 78, "book": 0, "school supplies": 0, "location": { "lat": 43.7131213, "lng": -79.3661381 } }, { "name": "ROTARY CLUB OF TORONTO EGLINTON CHARITABLE FOUNDATION", "address": "44 Price St, Toronto, ON M4W 1Z4, Canada", "category": ["poverty"], "tier": 3, "toy": 56, "food": 84, "clothing": 32, "book": 0, "school supplies": 0, "location": { "lat": 43.6805515, "lng": -79.3887538 } }, { "name": "WELFARE COMMITTEE FOR THE ASSYRIAN COMMUNITY IN CANADA", "address": "72 Orpington Crescent, Etobicoke, ON M9V, Canada", "category": ["poverty"], "tier": 2, "toy": 49, "food": 69, "clothing": 61, "book": 0, "school supplies": 0, "location": { "lat": 43.73726670000001, "lng": -79.5844005 } }, { "name": "GEMILAS CHESED OF CLANTON PARK", "address": "11 Lowesmoor Ave, North York, ON M3H 3H6, Canada", "category": ["poverty"], "tier": 3, "toy": 50, "food": 90, "clothing": 52, "book": 0, "school supplies": 0, "location": { "lat": 43.745726, "lng": -79.4444572 } }];

function addToDb() {
    //var Charity = Object.keys(charData);    
    const fb = firebase.firestore();
    // const charityCollection = db.collection('charities');
    // charityCollection.doc("john").set({asd: "test"});

    charData.forEach(function (obj) {
        console.log(obj.name);
        fb.collection("charities").doc(obj.name.replace("/", " ")).set(
            // name: obj.name,
            // address: obj.address,
            // category: obj.category,
            // tier: obj.tier,
            // toy: obj.toy,
            // food: obj.food,
            // clothing: obj.clothing,
            // book: obj.book,
            // schoolsupplies: obj.schoolsupplies,
            // location: obj.location
            obj
        )
    });
}

function userGoogleLogin() {
    const provider = new firebase.auth.GoogleAuthProvider();
    const db = firebase.firestore();
    const usersCollection = db.collection('users');

    firebase.auth().signInWithPopup(provider)

        .then(result => {
            const user = result.user;
            const email = user.email

            const query = usersCollection.doc(email)

            query.get().then(function (doc) {

                // User already exists, just go to profile
                if (doc.exists) {
                    window.location.href = "/profile.html"
                    // Doesn't exist, need to create new document in database with info before redirecting
                } else {
                    usersCollection.doc(email).set({
                        displayName: user.displayName,
                        photoURL: user.photoURL,
                        points: 0,
                        transactions: [],
                    })
                        .then(function () {
                            console.log("Adding new user!");
                            window.location.href = "/profile.html"
                        })
                }
            }).catch(function (error) {
                console.log("Error getting document:", error);
            });

        })
}

function loadPageData(page) {
    console.log(page)
    if (page === "profile.html") {
        setUserProfile();
    }

}

function setUserProfile() {

    firebase.auth().onAuthStateChanged(function (user) {

        if (user) {
            const db = firebase.firestore();
            const usersCollection = db.collection('users');

            const email = user.email
            const query = usersCollection.doc(email)

            query.get().then(function (doc) {

                // User already exists, get profile information
                if (doc.exists) {
                    doc = doc.data()
                    document.getElementById("user-profile-picture").src = doc.photoURL;
                    document.getElementById("user-display-name").innerHTML = doc.displayName;
                    document.getElementById("user-points").innerHTML = doc.points;
                } else {
                    alert("User not found!")
                }
            }).catch(function (error) {
                console.log("Error getting document:", error);
            });
        } else {
            window.location.href = "/";
        }

    })

}

